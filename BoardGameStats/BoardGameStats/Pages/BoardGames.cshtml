@page
@model BoardGameStats.Pages.BoardGamesModel
@{
    Layout = "Shared/_Layout.cshtml";
}

<div class="container">
    <h4>Add a Board Game</h4>
    <form enctype="multipart/form-data" method="post">
        <label class="control-label">Enter Game Name</label>
        <input asp-for="newBoardGame.Name" class="form-control"/>
        <input type="submit" value="Add" class="btn btn-primary"/>
        <input asp-for="FileUpload.FormFile" type="file"/>
    </form>
</div>

@if(Model.allBoardGames.Count() > 0)
{
    <div class="container">
        @for(int i = 0; i < Model.allBoardGames.Count; i += 5)
        {
            <div class="row">
            @for(int j = 0; j < 5; j++)
            {
                if ((j + i) < Model.allBoardGames.Count)
                {
                <div class="col">
                <div class="card" onclick="location.href = '/boardgamedetails/' + @Model.allBoardGames[j + i].Id">
                    @if (Model.allBoardGames[j + i].Image != null)
                    {
                        <img src="data:image/jpg;base64,@Html.Raw(Convert.ToBase64String(Model.allBoardGames[j + i].Image))" alt="@Model.allBoardGames[j + i].Name artwork" class="card-img-top"/>
                    }
                    else
                    {
                        @*Display a 'no image' image*@
                        <img src="https://st4.depositphotos.com/17828278/24401/v/600/depositphotos_244011872-stock-illustration-image-vector-symbol-missing-available.jpg" alt="No image available" class="card-img-top"/>
                    }
                    <div class="card-body">
                    <h5 class="card-title">@Model.allBoardGames[j + i].Name</h5>
                    <p class="card-text">Plays: @Model.allBoardGames[j + i].NumPlays</p>
                    </div>
                </div>
                </div>
                }
            }
            </div>
        }
        </div>
    
}
